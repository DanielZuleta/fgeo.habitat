<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Torus Translation Test to determine habitat associations of tree species. — tt_test • fgeo.habitat</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Torus Translation Test to determine habitat associations of tree species. — tt_test" />

<meta property="og:description" content="Determine habitat-species associations with code developed by Sabrina Russo,
Daniel Zuleta, Matteo Detto, and Kyle Harms." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fgeo.habitat</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9006</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/krige.html">Krige soil data</a>
    </li>
    <li>
      <a href="../articles/tt_test.html">Habitat-species associations</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/fgeo.habitat">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Torus Translation Test to determine habitat associations of tree species.</h1>
    <small class="dont-index">Source: <a href='https://github.com/forestgeo/fgeo.habitat/blob/master/R/tt_test.R'><code>R/tt_test.R</code></a></small>
    <div class="hidden name"><code>tt_test.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Determine habitat-species associations with code developed by Sabrina Russo,
Daniel Zuleta, Matteo Detto, and Kyle Harms.</p>
    
    </div>

    <pre class="usage"><span class='fu'>tt_test</span>(<span class='no'>census</span>, <span class='no'>sp</span>, <span class='no'>habitat</span>, <span class='kw'>plotdim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>gridsize</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>census</th>
      <td><p>A dataframe; a ForestGEO <em>tree</em> table (see details).</p></td>
    </tr>
    <tr>
      <th>sp</th>
      <td><p>Character sting giving any number of species-names.</p></td>
    </tr>
    <tr>
      <th>habitat</th>
      <td><p>Object giving the habitat designation for each
plot partition defined by <code>gridsize</code>. See fgeo.tool::fgeo_habitat().</p></td>
    </tr>
    <tr>
      <th>plotdim</th>
      <td><p>Plot dimensions.</p></td>
    </tr>
    <tr>
      <th>gridsize</th>
      <td><p>Grid size.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of matrices. You can summarize the output with <code>summary()</code> and
convert it to a dataframe with <code><a href='http://www.rdocumentation.org/packages/fgeo.tool/topics/to_df'>fgeo.tool::to_df()</a></code>. See examples.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>You should only try to determine the habitat association for sufficiently
abundant species - in a 50-ha plot, a minimum abundance of 50 trees/species
has been used.</p>
<p>This test should use individual trees not the (potentially multiple) stems of
individual trees. This test only makes sense at the population level. We are
interested in knowing whether or not individuals of a species are aggregated
on a habitat. Multiple stems of an individual do not represent population
level processes but individual level processes.</p>
    
    <h2 class="hasAnchor" id="acknowledgments"><a class="anchor" href="#acknowledgments"></a>Acknowledgments</h2>

    
    <p>Nestor Engone Obiang, David Kenfack, Jennifer Baltzer, and Rutuja
Chitra-Tarak provided feedback. Daniel Zuleta provided guidance.</p>
    
    <h2 class="hasAnchor" id="interpretation-of-output"><a class="anchor" href="#interpretation-of-output"></a>Interpretation of Output</h2>

    
    <ul>
<li><p><code>N.Hab.1</code>: Count of stems of the focal species in habitat 1.</p></li>
<li><p><code>Gr.Hab.1</code>: Count of instances the observed relative density of the focal
species on habitat 1 was greater than the relative density based on the TT
habitat map.</p></li>
<li><p><code>Ls.Hab.1</code>: Count of instances the observed relative density of the focal
species on habitat 1 was less than the relative density based on the TT
habitat map.</p></li>
<li><p><code>Eq.Hab.1</code>: Count of instances the observed relative density of the focal
species on habitat 1 was equal to the relative density based on the TT
habitat map.
The sum of the <code>Gr.Hab.x</code>, <code>Ls.Hab.x</code>, and <code>Eq.Hab.x</code> columns for one habitat
equals the number of 20 x20 quads in the plot.
The <code>Rep.Agg.Neut</code> columns for each habitat indicate whether the species is
significantly repelled (-1), aggregated (1), or neutrally distributed (0) on
the habitat in question.
The probabilities associated with the test for whether these patterns are
statistically significant are in the <code>Obs.Quantile</code> columns for each habitat.
Note that to calculate the probability for repelled, it is the value given,
but to calculate the probability for aggregated, it is 1- the value given.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://www.rdocumentation.org/packages/fgeo.tool/topics/to_df'>fgeo.tool::to_df()</a></code>, fgeo.tool::fgeo_habitat().</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>dplyr</span>)</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: 'dplyr'</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from 'package:stats':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    filter, lag</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from 'package:base':</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    intersect, setdiff, setequal, union</span></div><div class='input'><span class='fu'>library</span>(<span class='no'>fgeo.tool</span>)
<span class='fu'>library</span>(<span class='no'>fgeo.map</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: S3 method 'plot.tt_df' was declared in NAMESPACE but not found</span></div><div class='input'>
<span class='co'># Pick alive trees, of 10 mm or more</span>
<span class='no'>census</span> <span class='kw'>&lt;-</span> <span class='no'>luquillo_top3_sp</span>
<span class='no'>census</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/fgeo.tool/topics/reexports'>filter</a></span>(<span class='no'>census</span>, <span class='no'>status</span> <span class='kw'>==</span> <span class='st'>"A"</span>, <span class='no'>dbh</span> <span class='kw'>&gt;=</span> <span class='fl'>10</span>)

<span class='co'># Pick sufficiently abundant species</span>
<span class='no'>pick</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/fgeo.tool/topics/reexports'>filter</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/fgeo.tool/topics/reexports'>add_count</a></span>(<span class='no'>census</span>, <span class='no'>sp</span>), <span class='no'>n</span> <span class='kw'>&gt;</span> <span class='fl'>50</span>)
<span class='no'>species</span> <span class='kw'>&lt;-</span> <span class='fu'>unique</span>(<span class='no'>pick</span>$<span class='no'>sp</span>)

<span class='co'># Use your habitat data or create if from elevation data</span>
<span class='no'>habitat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/fgeo.tool/topics/construct_habitats'>fgeo_habitat</a></span>(<span class='no'>luquillo_elevation</span>, <span class='kw'>gridsize</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>4</span>)
<span class='fu'>plot</span>(<span class='no'>habitat</span>)</div><div class='img'><img src='tt_test-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># A list or matrices</span>
<span class='no'>tt_lst</span> <span class='kw'>&lt;-</span> <span class='fu'>tt_test</span>(<span class='no'>census</span>, <span class='no'>species</span>, <span class='no'>habitat</span>)</div><div class='output co'>#&gt; <span class='message'>Using `plotdim = c(320, 500)`. To change this value see argument of `tt_test().</span></div><div class='output co'>#&gt; <span class='message'>Using `gridsize = 20`. To change this value see argument of `tt_test().</span></div><div class='input'><span class='no'>tt_lst</span></div><div class='output co'>#&gt; [[1]]
#&gt;        N.Hab.1 Gr.Hab.1 Ls.Hab.1 Eq.Hab.1 Rep.Agg.Neut.1 Obs.Quantile.1 N.Hab.2
#&gt; CASARB      23      360     1239        1              0          0.225      24
#&gt;        Gr.Hab.2 Ls.Hab.2 Eq.Hab.2 Rep.Agg.Neut.2 Obs.Quantile.2 N.Hab.3
#&gt; CASARB     1544       49        7              0          0.965       6
#&gt;        Gr.Hab.3 Ls.Hab.3 Eq.Hab.3 Rep.Agg.Neut.3 Obs.Quantile.3 N.Hab.4
#&gt; CASARB      152     1441        7              0          0.095      13
#&gt;        Gr.Hab.4 Ls.Hab.4 Eq.Hab.4 Rep.Agg.Neut.4 Obs.Quantile.4
#&gt; CASARB     1246      352        2              0        0.77875
#&gt; 
#&gt; [[2]]
#&gt;        N.Hab.1 Gr.Hab.1 Ls.Hab.1 Eq.Hab.1 Rep.Agg.Neut.1 Obs.Quantile.1 N.Hab.2
#&gt; PREMON     109     1407      192        1              0       0.879375      53
#&gt;        Gr.Hab.2 Ls.Hab.2 Eq.Hab.2 Rep.Agg.Neut.2 Obs.Quantile.2 N.Hab.3
#&gt; PREMON      392     1204        4              0          0.245      42
#&gt;        Gr.Hab.3 Ls.Hab.3 Eq.Hab.3 Rep.Agg.Neut.3 Obs.Quantile.3 N.Hab.4
#&gt; PREMON     1005      589        6              0       0.628125      30
#&gt;        Gr.Hab.4 Ls.Hab.4 Eq.Hab.4 Rep.Agg.Neut.4 Obs.Quantile.4
#&gt; PREMON      139     1457        4              0       0.086875
#&gt; 
#&gt; [[3]]
#&gt;        N.Hab.1 Gr.Hab.1 Ls.Hab.1 Eq.Hab.1 Rep.Agg.Neut.1 Obs.Quantile.1 N.Hab.2
#&gt; SLOBER      27      677      919        4              0       0.423125      11
#&gt;        Gr.Hab.2 Ls.Hab.2 Eq.Hab.2 Rep.Agg.Neut.2 Obs.Quantile.2 N.Hab.3
#&gt; SLOBER      368     1213       19              0           0.23      16
#&gt;        Gr.Hab.3 Ls.Hab.3 Eq.Hab.3 Rep.Agg.Neut.3 Obs.Quantile.3 N.Hab.4
#&gt; SLOBER     1254      322       24              0        0.78375      12
#&gt;        Gr.Hab.4 Ls.Hab.4 Eq.Hab.4 Rep.Agg.Neut.4 Obs.Quantile.4
#&gt; SLOBER     1086      507        7              0        0.67875
#&gt; 
#&gt; attr(,"class")
#&gt; [1] "tt_lst" "list"  </div><div class='input'>
<span class='co'># A simple summary to help you interpret the results</span>
<span class='fu'>summary</span>(<span class='no'>tt_lst</span>)</div><div class='output co'>#&gt;   Species Habitat_1 Habitat_2 Habitat_3 Habitat_4
#&gt; 1  CASARB   neutral   neutral   neutral   neutral
#&gt; 2  PREMON   neutral   neutral   neutral   neutral
#&gt; 3  SLOBER   neutral   neutral   neutral   neutral</div><div class='input'>
<span class='co'># A combined matrix</span>
<span class='fu'>Reduce</span>(<span class='no'>rbind</span>, <span class='no'>tt_lst</span>)</div><div class='output co'>#&gt;        N.Hab.1 Gr.Hab.1 Ls.Hab.1 Eq.Hab.1 Rep.Agg.Neut.1 Obs.Quantile.1 N.Hab.2
#&gt; CASARB      23      360     1239        1              0       0.225000      24
#&gt; PREMON     109     1407      192        1              0       0.879375      53
#&gt; SLOBER      27      677      919        4              0       0.423125      11
#&gt;        Gr.Hab.2 Ls.Hab.2 Eq.Hab.2 Rep.Agg.Neut.2 Obs.Quantile.2 N.Hab.3
#&gt; CASARB     1544       49        7              0          0.965       6
#&gt; PREMON      392     1204        4              0          0.245      42
#&gt; SLOBER      368     1213       19              0          0.230      16
#&gt;        Gr.Hab.3 Ls.Hab.3 Eq.Hab.3 Rep.Agg.Neut.3 Obs.Quantile.3 N.Hab.4
#&gt; CASARB      152     1441        7              0       0.095000      13
#&gt; PREMON     1005      589        6              0       0.628125      30
#&gt; SLOBER     1254      322       24              0       0.783750      12
#&gt;        Gr.Hab.4 Ls.Hab.4 Eq.Hab.4 Rep.Agg.Neut.4 Obs.Quantile.4
#&gt; CASARB     1246      352        2              0       0.778750
#&gt; PREMON      139     1457        4              0       0.086875
#&gt; SLOBER     1086      507        7              0       0.678750</div><div class='input'>
<span class='co'># A dataframe</span>
<span class='fu'><a href='http://www.rdocumentation.org/packages/fgeo.tool/topics/to_df'>to_df</a></span>(<span class='no'>tt_lst</span>)</div><div class='output co'>#&gt; # A tibble: 12 x 8
#&gt;    habitat sp     distribution stem_count Eq.Hab Gr.Hab Ls.Hab Obs.Quantile
#&gt;  * &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;             &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;        &lt;dbl&gt;
#&gt;  1 1       CASARB neutral              23      1    360   1239       0.225 
#&gt;  2 1       PREMON neutral             109      1   1407    192       0.879 
#&gt;  3 1       SLOBER neutral              27      4    677    919       0.423 
#&gt;  4 2       CASARB neutral              24      7   1544     49       0.965 
#&gt;  5 2       PREMON neutral              53      4    392   1204       0.245 
#&gt;  6 2       SLOBER neutral              11     19    368   1213       0.23  
#&gt;  7 3       CASARB neutral               6      7    152   1441       0.095 
#&gt;  8 3       PREMON neutral              42      6   1005    589       0.628 
#&gt;  9 3       SLOBER neutral              16     24   1254    322       0.784 
#&gt; 10 4       CASARB neutral              13      2   1246    352       0.779 
#&gt; 11 4       PREMON neutral              30      4    139   1457       0.0869
#&gt; 12 4       SLOBER neutral              12      7   1086    507       0.679 </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#acknowledgments">Acknowledgments</a></li>

      <li><a href="#interpretation-of-output">Interpretation of Output</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Sabrina Russo, Daniel Zuleta, Matteo Detto, and Kyle Harms.

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/maurolepore'>Mauro Lepore</a>, <a href='http://www.forestgeo.si.edu/'>CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

