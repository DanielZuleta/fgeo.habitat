<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Krige soil data following the methodology of the John et al. (2007). — krig • fgeo.habitat</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Krige soil data following the methodology of the John et al. (2007). — krig" />

<meta property="og:description" content="Krige soil data following the methodology of the John et al. (2007):
krig() has an interface consistent with other functions of ForestGEO. It
outputs a list of subclass "krig", which has a summary() method (see
examples). krig() also tries to guess plotdim and informs both the
guessed plotdim and the gridsize provided. krig() allows you to
suppress messages.
GetKrigedSoil() remains to preserve the original interface but it is
softly deprecated. Its result is the same as krig() but its interface is
different and lacks many of krig()'s features.
" />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fgeo.habitat</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/fgeo.habitat.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tt_test.html">Habitat-species associations</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/fgeo.habitat">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Krige soil data following the methodology of the John et al. (2007).</h1>
    <small class="dont-index">Source: <a href='https://github.com/forestgeo/fgeo.habitat/blob/master/R/krig.R'><code>R/krig.R</code></a></small>
    <div class="hidden name"><code>krig.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Krige soil data following the methodology of the John et al. (2007):</p><ul>
<li><p><code>krig()</code> has an interface consistent with other functions of ForestGEO. It
outputs a list of subclass "krig", which has a <code>summary()</code> method (see
examples). <code>krig()</code> also tries to guess <code>plotdim</code> and informs both the
guessed <code>plotdim</code> and the <code>gridsize</code> provided. <code>krig()</code> allows you to
suppress messages.</p></li>
<li><p><code>GetKrigedSoil()</code> remains to preserve the original interface but it is
softly deprecated. Its result is the same as <code>krig()</code> but its interface is
different and lacks many of <code>krig()</code>'s features.</p></li>
</ul>
    
    </div>

    <pre class="usage"><span class='fu'>krig</span>(<span class='no'>soil</span>, <span class='no'>var</span>, <span class='kw'>params</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>gridsize</span> <span class='kw'>=</span> <span class='fl'>20</span>,
  <span class='kw'>plotdim</span> <span class='kw'>=</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/fgeo.base/topics/guess_plotdim'>guess_plotdim</a></span>(<span class='no'>soil</span>), <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='fu'><a href='krig_breaks.html'>krig_breaks</a></span>(<span class='fl'>2</span>, <span class='fl'>320</span>, <span class='fl'>30</span>),
  <span class='kw'>use_ksline</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>GetKrigedSoil</span>(<span class='no'>df.soil</span>, <span class='no'>var</span>, <span class='kw'>gridSize</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>krigeParams</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>xSize</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>ySize</span> <span class='kw'>=</span> <span class='fl'>500</span>, <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='fu'><a href='krig_breaks.html'>krig_breaks</a></span>(<span class='fl'>2</span>, <span class='fl'>320</span>, <span class='fl'>30</span>),
  <span class='kw'>useKsLine</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>soil, df.soil</th>
      <td><p>The data frame with the points, coords specified in the
columns <code>gx</code>, <code>gy</code>.</p></td>
    </tr>
    <tr>
      <th>var</th>
      <td><p>A text string giving the variable/column in <code>df.soil</code> to krige.</p></td>
    </tr>
    <tr>
      <th>params, krigeParams</th>
      <td><p>If you want to pass specified kriging parameters;
see <code><a href='krig_auto_params.html'>krig_auto_params()</a></code> for each parameter.</p></td>
    </tr>
    <tr>
      <th>gridsize, gridSize</th>
      <td><p>Points are kriged to the center points of a grid of
this size.</p></td>
    </tr>
    <tr>
      <th>plotdim, xSize, ySize</th>
      <td><p>Numeric vectors giving x and y dimensions of the
plot:</p><ul>
<li><p><code>plotdim</code>: Must be of lenght 2 with the format <code>c(x, y)</code>.</p></li>
<li><p><code>xSize</code>, <code>ySize</code>: Each must be of lenght 1.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>breaks</th>
      <td><p>Breaks/intervals used to calculate the semivariogram, which
only happens if <code>krigeParams = NULL</code> (default).</p></td>
    </tr>
    <tr>
      <th>use_ksline, useKsLine</th>
      <td><p>Use the <code><a href='http://www.rdocumentation.org/packages/geoR/topics/ksline'>geoR::ksline()</a></code> function? Use <code>TRUE</code> to
calculate a "best" semivariogram based on default parameters via
<code>geoR::variogram()</code>]. Use <code>FALSE</code> to base calculation on parameters passed
to <code>params</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with the following items:</p><ul>
<li><p><code>df</code>: Data frame of kriged values (column z) at each grid point (x, y).</p></li>
<li><p><code>df.poly</code>: Data frame of the polynomial surface fitted to the raw data.</p></li>
<li><p><code>lambda</code>: The "lambda" value used in the Box-Cox transform of the raw
data.</p></li>
<li><p><code>vg</code>: A list giving the variogram parameters used for the kriging.</p></li>
<li><p><code>vm</code>: Minimum loss value returned from <code><a href='http://www.rdocumentation.org/packages/geoR/topics/variofit'>geoR::variofit()</a></code>.</p></li>
</ul>

    
    <h2 class="hasAnchor" id="breaks-default"><a class="anchor" href="#breaks-default"></a>Breaks default</h2>

    
    <p>The default breaks argument is set to have more points where the exponential
curve rises the most and fewer at large distances. This means that the curve
fitting is not overly biased by points beyond the effective maximum range.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://www.rdocumentation.org/packages/geoR/topics/variofit'>geoR::variofit()</a></code>, <code><a href='http://www.rdocumentation.org/packages/geoR/topics/variog'>geoR::variog()</a></code>, <code><a href='http://www.rdocumentation.org/packages/geoR/topics/as.geodata'>geoR::as.geodata()</a></code>,
<code><a href='http://www.rdocumentation.org/packages/geoR/topics/ksline'>geoR::ksline()</a></code>, <code><a href='http://www.rdocumentation.org/packages/geoR/topics/krige.conv'>geoR::krige.conv()</a></code>, <code><a href='http://www.rdocumentation.org/packages/geoR/topics/krige.conv'>geoR::krige.control()</a></code>.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='co'># Example data</span>
<span class='no'>soil</span> <span class='kw'>&lt;-</span> <span class='no'>soil_random</span>

<span class='co'># Krige with automated parameters</span>
<span class='no'>auto</span> <span class='kw'>&lt;-</span> <span class='fu'>krig</span>(<span class='no'>soil</span>, <span class='kw'>var</span> <span class='kw'>=</span> <span class='st'>"m3al"</span>)
<span class='co'># For a nice view in RStudio use: View(auto)</span>
<span class='fu'>summary</span>(<span class='no'>auto</span>)

<span class='co'># Custom params (arbitrary but based on automated kriging params)</span>
<span class='no'>params</span> <span class='kw'>&lt;-</span> <span class='fu'>list</span>(
  <span class='kw'>model</span> <span class='kw'>=</span> <span class='st'>"circular"</span>, <span class='kw'>range</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>nugget</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>sill</span> <span class='kw'>=</span> <span class='fl'>46000</span>, <span class='kw'>kappa</span> <span class='kw'>=</span> <span class='fl'>0.5</span>
)
<span class='no'>custom</span> <span class='kw'>&lt;-</span> <span class='fu'>krig</span>(<span class='no'>soil</span>, <span class='kw'>var</span> <span class='kw'>=</span> <span class='st'>"m3al"</span>, <span class='kw'>params</span> <span class='kw'>=</span> <span class='no'>params</span>)
<span class='co'># For a nice view in RStudio use: View(custom)</span>
<span class='fu'>summary</span>(<span class='no'>custom</span>)

<span class='co'># Compare</span>
<span class='kw'>if</span> (!<span class='fu'>requireNamespace</span>(<span class='st'>"ggplot2"</span>, <span class='kw'>quietly</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)) {
  <span class='fu'>stop</span>(<span class='st'>"Install ggplot2 for this section to work."</span>, <span class='kw'>call.</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
}
<span class='fu'>library</span>(<span class='no'>ggplot2</span>)

<span class='no'>title_auto</span> <span class='kw'>&lt;-</span> <span class='st'>"Automated parameters"</span>
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggplot'>ggplot</a></span>(<span class='no'>auto</span>$<span class='no'>df</span>, <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>y</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>z</span>)) +
  <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/geom_tile'>geom_tile</a></span>() +
  <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/coord_fixed'>coord_equal</a></span>() +
  <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/labs'>labs</a></span>(<span class='kw'>title</span> <span class='kw'>=</span> <span class='no'>title_auto</span>)
<span class='no'>title_custom</span> <span class='kw'>&lt;-</span> <span class='st'>"Custom parameters"</span>

<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggplot'>ggplot</a></span>(<span class='no'>custom</span>$<span class='no'>df</span>, <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>y</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='no'>z</span>)) +
  <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/geom_tile'>geom_tile</a></span>() +
  <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/coord_fixed'>coord_equal</a></span>() +
  <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/labs'>labs</a></span>(<span class='kw'>title</span> <span class='kw'>=</span> <span class='no'>title_custom</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#breaks-default">Breaks default</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Graham Zemunik (grah.zem@gmail.com).

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/maurolepore'>Mauro Lepore</a>, <a href='http://www.forestgeo.si.edu/'>CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

